<!DOCTYPE html>
<html>
  <head>
    <title>Test TKA API</title>
  </head>
  <body>
    <h1>Test TKA API</h1>
    <div id="results"></div>

    <script>
      async function testTkaApi() {
        const results = document.getElementById("results");

        try {
          // Test global TKA schedules
          console.log("Testing global TKA schedules...");
          const globalResponse = await fetch(
            "http://127.0.0.1:8000/api/tka-schedules"
          );
          const globalData = await globalResponse.json();
          console.log("Global TKA schedules:", globalData);

          results.innerHTML += "<h2>Global TKA Schedules:</h2>";
          results.innerHTML +=
            "<pre>" + JSON.stringify(globalData, null, 2) + "</pre>";

          // Test upcoming TKA schedules
          console.log("Testing upcoming TKA schedules...");
          const upcomingResponse = await fetch(
            "http://127.0.0.1:8000/api/tka-schedules/upcoming"
          );
          const upcomingData = await upcomingResponse.json();
          console.log("Upcoming TKA schedules:", upcomingData);

          results.innerHTML += "<h2>Upcoming TKA Schedules:</h2>";
          results.innerHTML +=
            "<pre>" + JSON.stringify(upcomingData, null, 2) + "</pre>";
        } catch (error) {
          console.error("Error testing TKA API:", error);
          results.innerHTML +=
            '<p style="color: red;">Error: ' + error.message + "</p>";
        }
      }

      // Run test when page loads
      testTkaApi();
    </script>
  </body>
</html>
